<!DOCTYPE html>
<html lang="fr">

  {% include head.html %}

  <body class="page" itemscope itemtype="http://schema.org/WebPage">

    {% include header.html %}

    <main id="main" role="main">
      {{ content }}
    </main>
    <script src="/assets/js/instantclick.min.js" data-no-instant defer></script>
    <script data-no-instant defer>
      InstantClick.init();
      {% if site.environment != 'development' %}
      if (navigator.serviceWorker) {
        navigator.serviceWorker.register('/sw.js').then(function(reg) {
            if (!reg.installing) return;
            console.log("[*] ServiceWorker is installing...");
      
            var worker = reg.installing;
      
            worker.addEventListener('statechange', function() {
                if (worker.state == 'redundant') {
                    console.log('[*] Install failed');
                }
                if (worker.state == 'installed') {
                    console.log('[*] Install successful!');
                }
            });
        });
      }
      {% endif %}
      
    </script>
  </body>
</html>
