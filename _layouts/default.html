<!DOCTYPE html>
<html lang="fr">

  {% include head.html %}

  <body class="page" itemscope itemtype="http://schema.org/WebPage">

    {% include header.html %}

    <main id="main" role="main">
      {{ content }}
    </main>
    <script src="https://cdn.jsdelivr.net/npm/fetch-inject"></script>
    <script>
    fetchInject([
      '{{ "/assets/css/main.css" | prepend: site.url }}',
      '{{ site.url }}/assets/js/instantclick.min.js'
    ]).then(() => {
        InstantClick.init();
      })
    </script>

    <script src=""></script>
    <script data-no-instant>
      {% if site.environment != 'development' %}
        if (navigator.serviceWorker) {
          navigator.serviceWorker.register('/sw.js').then(function(reg) {
              if (!reg.installing) return;
              console.log("[*] ServiceWorker is installing...");
        
              var worker = reg.installing;
        
              worker.addEventListener('statechange', function() {
                  if (worker.state == 'redundant') {
                      console.log('[*] Install failed');
                  }
                  if (worker.state == 'installed') {
                      console.log('[*] Install successful!');
                  }
              });
          });
        }
      {% endif %}
    </script>
  </body>
</html>
